<section class="trending full-width">
  <div class="trending__inner">
    {% if section.settings.heading != blank %}
      <h2 class="trending__title">{{ section.settings.heading }}</h2>
    {% endif %}

    {% assign coll = collections[section.settings.collection] %}
    {% if coll and coll.products_count > 0 %}
      <div class="trending-grid">
        {% for product in coll.products limit: section.settings.limit %}
          <a class="trending-card" href="{{ product.url }}">
            {% if product.featured_image %}
              {% render 'image', class: 'trending-card__image', image: product.featured_image, width: 600, height: 600, crop: 'center' %}
            {% endif %}
            <div class="trending-card__content">
              <p class="t-title">{{ product.title }}</p>
              <p class="t-price">{{ product.price | money }}</p>
            </div>
          </a>
        {% endfor %}
      </div>
    {% else %}
      <p>No products found.</p>
    {% endif %}
  </div>
</section>

{% stylesheet %}
  .trending__inner { display: grid; grid-template-columns: var(--content-grid); padding: 0 24px; }
  .trending__inner > * { grid-column: 2; }
  .trending__title { margin-bottom: 16px; font-size: 1.6rem; font-weight: 800; }
  .trending-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 20px; }
  .trending-card { display: flex; flex-direction: column; text-decoration: none; color: inherit; background: #fff; border: 1px solid var(--neutral-300); border-radius: 12px; overflow: hidden; box-shadow: var(--shadow-md); }
  .trending-card__content { padding: 12px; display: flex; justify-content: space-between; align-items: center; }
  .t-title { font-weight: 700; margin: 0; }
  .t-price { font-weight: 800; color: var(--brand-700); margin: 0; }
{% endstylesheet %}

{% schema %}
{
  "name": "Trending products",
  "settings": [
    { "type": "text", "id": "heading", "label": "Heading", "default": "Trending" },
    { "type": "collection", "id": "collection", "label": "Collection" },
    { "type": "range", "id": "limit", "min": 3, "max": 12, "step": 1, "default": 6, "label": "Products to show" }
  ],
  "presets": [ { "name": "Trending products" } ]
}
{% endschema %}


